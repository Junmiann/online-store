{% extends 'shared/layout.html' %}

{% block title %}OnlineStore â”‚ Profile{% endblock %}

{% block search %}{% endblock %}

{% block content %}
  <div class="container">
    <div class="d-flex justify-content-end">
      <a class="btn" id="logout-button" href="{{ url_for('user_profile.logout') }}">Logout</a>
    </div>

    {% if user %}
      <h1 class="text-uppercase font-weight-bold my-4">My Profile</h1>

      <div class="welcome-msg mb-4">
        <h4 class="text-center">Hi <strong>{{ user[1] }}</strong>!</h4>
      </div>

      <section class="user-orders">
        <h3 class="text-uppercase font-weight-bold">Orders</h3>

        {% if user_orders %}
          <div class="order mt-3">
            <table class="table" aria-label="Order history">
              <thead>
                <tr class="text-uppercase order-table-th">
                  <th scope="col">ID</th>
                  <th scope="col">Date</th>
                  <th scope="col">Total</th>
                  <th scope="col">Status</th>
                </tr>
              </thead>
              <tbody>
                {% for order_info in user_orders %}
                <tr>
                  <td><a href="{{ url_for('orders.user_order_details', order_id=order_info[0]) }}">{{ order_info[0] }}</a></td>
                  <td>{{ order_info[1] }}</td>
                  <td>{{ order_info[3] }} SEK</td>
                  <td>{{ order_info[4] }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        {% else %}
          <p class="mt-3">You have not placed any orders yet.</p>
        {% endif %}
      </section>
    {% endif %}
  </div>
{% endblock %}
